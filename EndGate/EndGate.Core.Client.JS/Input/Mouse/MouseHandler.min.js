var EndGate;(function(n){(function(n){(function(t){(function(t){var i=function(){function i(t){this._target=t,this.OnClick=new n.Utilities.EventHandler,this.OnDoubleClick=new n.Utilities.EventHandler,this.OnDown=new n.Utilities.EventHandler,this.OnUp=new n.Utilities.EventHandler,this.OnMove=new n.Utilities.EventHandler,this.OnScroll=new n.Utilities.EventHandler,this.Wire()}return i.MouseButtonArray=[null,t.MouseButton.Left,t.MouseButton.Middle,t.MouseButton.Right],i.prototype.Wire=function(){var n=this;this._target.onclick=this._target.oncontextmenu=this.BuildEvent(this.OnClick,this.BuildMouseClickEvent),this._target.ondblclick=this.BuildEvent(this.OnDoubleClick,this.BuildMouseClickEvent),this._target.onmousedown=this.BuildEvent(this.OnDown,this.BuildMouseClickEvent),this._target.onmouseup=this.BuildEvent(this.OnUp,this.BuildMouseClickEvent),this._target.onmousemove=this.BuildEvent(this.OnMove,this.BuildMouseEvent),/MSIE/i.test(navigator.userAgent)?this._target.addEventListener("wheel",this.BuildEvent(this.OnScroll,function(t){return t.wheelDeltaX=-t.deltaX,t.wheelDeltaY=-t.deltaY,n.BuildMouseScrollEvent(t)}),!1):/Firefox/i.test(navigator.userAgent)?this._target.addEventListener("DOMMouseScroll",this.BuildEvent(this.OnScroll,function(t){return t.wheelDeltaX=t.axis===1?-t.detail:0,t.wheelDeltaY=t.axis===2?-t.detail:0,n.BuildMouseScrollEvent(t)}),!1):this._target.addEventListener("mousewheel",this.BuildEvent(this.OnScroll,this.BuildMouseScrollEvent),!1)},i.prototype.BuildEvent=function(n,t,i){typeof i=="undefined"&&(i=!1);var r=this;return function(u){return n.HasBindings()&&n.Trigger(t.call(r,u)),i}},i.prototype.BuildMouseScrollEvent=function(n){return{Position:this.GetMousePosition(n),Direction:this.GetMouseScrollDierction(n)}},i.prototype.BuildMouseEvent=function(n){return{Position:this.GetMousePosition(n)}},i.prototype.BuildMouseClickEvent=function(n){return{Position:this.GetMousePosition(n),Button:this.GetMouseButton(n)}},i.prototype.GetMousePosition=function(t){return new n.Assets.Vector2d(t.offsetX?t.offsetX:t.pageX-this._target.offsetLeft,t.offsetY?t.offsetY:t.pageY-this._target.offsetTop)},i.prototype.GetMouseButton=function(n){return n.which?i.MouseButtonArray[n.which]:t.MouseButton.Right},i.prototype.GetMouseScrollDierction=function(t){return new n.Assets.Vector2d(-Math.max(-1,Math.min(1,t.wheelDeltaX)),-Math.max(-1,Math.min(1,t.wheelDeltaY)))},i}();t.MouseHandler=i})(t.Mouse||(t.Mouse={}));var i=t.Mouse})(n.Input||(n.Input={}));var t=n.Input})(n.Core||(n.Core={}));var t=n.Core})(EndGate||(EndGate={}))