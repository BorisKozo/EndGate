var EndGate;(function(n){(function(n){(function(n){var t=function(){function n(n){this._camera=n,this._canvasCenter=this._camera.Position.Clone(),this._translated=!1,this._translationState=[],this._translationState.push(this._translated)}return n.prototype.BuildFrom=function(n){var t=this,i=n.createRadialGradient,r=n.translate,u=n.save,f=n.restore;return n.unModifiedClearRect=n.clearRect,n.arc=this.BuildPositionReplacer(n.arc),n.arcTo=this.BuildPositionReplacer(n.arcTo,0,4),n.bezierCurveTo=this.BuildPositionReplacer(n.bezierCurveTo,0,6),n.clearRect=this.BuildPositionReplacer(n.clearRect),n.createLinearGradient=this.BuildPositionReplacer(n.createLinearGradient,0,4),n.createRadialGradient=function(){var n=t._camera.GetDistanceScale();return arguments[0]+=-t._camera.Position.X+t._canvasCenter.X*n,arguments[1]+=-t._camera.Position.Y+t._canvasCenter.Y*n,arguments[3]+=-t._camera.Position.X+t._canvasCenter.X*n,arguments[4]+=-t._camera.Position.Y+t._canvasCenter.Y*n,i.apply(this,arguments)},n.drawImage=this.BuildPositionReplacer(n.drawImage,1),n.fillRect=this.BuildPositionReplacer(n.fillRect),n.fillText=this.BuildPositionReplacer(n.fillText,1),n.getImageData=this.BuildPositionReplacer(n.getImageData),n.isPointInPath=this.BuildPositionReplacer(n.isPointInPath),n.lineTo=this.BuildPositionReplacer(n.lineTo),n.moveTo=this.BuildPositionReplacer(n.moveTo),n.putImageData=this.BuildPositionReplacer(n.putImageData,1),n.quadraticCurveTo=this.BuildPositionReplacer(n.quadraticCurveTo,0,4),n.rect=this.BuildPositionReplacer(n.rect),n.strokeRect=this.BuildPositionReplacer(n.strokeRect),n.strokeText=this.BuildPositionReplacer(n.strokeText,1),n.save=function(){t._translationState.push(t._translated),u.call(this)},n.restore=function(){t._translated=t._translationState.pop(),f.call(this)},n.translate=function(){var n;t._translated||(n=t._camera.GetDistanceScale(),arguments[0]+=-t._camera.Position.X+t._canvasCenter.X*n,arguments[1]+=-t._camera.Position.Y+t._canvasCenter.Y*n),t._translated=!0,r.apply(this,arguments)},n},n.prototype.UpdateCanvasCenter=function(n){this._canvasCenter.X=n.Width/2,this._canvasCenter.Y=n.Height/2},n.prototype.BuildPositionReplacer=function(n,t,i){typeof t=="undefined"&&(t=0),typeof i=="undefined"&&(i=2);var r=this,u=["X","Y"];return function(){var o,e,f;if(!r._translated)for(o=r._camera.GetDistanceScale(),f=0;f<i;f++)e=u[f%2],arguments[t+f]+=-r._camera.Position[e]+r._canvasCenter[e]*o;return n.apply(this,arguments)}},n}();n.Camera2dCanvasContextBuilder=t})(n._||(n._={}));var t=n._})(n.Rendering||(n.Rendering={}));var t=n.Rendering})(EndGate||(EndGate={}))