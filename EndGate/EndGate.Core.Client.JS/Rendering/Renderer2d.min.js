var EndGate;(function(n){(function(n){(function(n){var t=function(){function n(n){this._visibleCanvas=n,this._visibleContext=n.getContext("2d"),this._bufferCanvas=document.createElement("canvas"),this._bufferContext=this._bufferCanvas.getContext("2d"),this.UpdateBufferSize(),this._disposed=!1}return n._zindexSort=function(n,t){return n.ZIndex-t.ZIndex},n.prototype.Render=function(t){(this._bufferCanvas.width!==this._visibleCanvas.width||this._bufferCanvas.height!==this._visibleCanvas.height)&&this.UpdateBufferSize(),t.sort(n._zindexSort),this._bufferContext.clearRect(0,0,this._bufferCanvas.width,this._bufferCanvas.height);for(var i=0;i<t.length;i++)t[i].Draw(this._bufferContext);this._visibleContext.clearRect(0,0,this._visibleCanvas.width,this._visibleCanvas.height),this._visibleContext.drawImage(this._bufferCanvas,0,0)},n.prototype.Dispose=function(){this._disposed||(this._disposed=!0,this._visibleCanvas.parentNode.removeChild(this._visibleCanvas))},n.prototype.UpdateBufferSize=function(){this._bufferCanvas.width=this._visibleCanvas.width,this._bufferCanvas.height=this._visibleCanvas.height},n}();n.Renderer2d=t})(n.Rendering||(n.Rendering={}));var t=n.Rendering})(n.Core||(n.Core={}));var t=n.Core})(EndGate||(EndGate={}))