var EndGate;(function(n){(function(n){(function(t){var i=function(){function t(t){this._visibleCanvas=t,this._visibleContext=t.getContext("2d"),this._bufferCanvas=document.createElement("canvas"),this._bufferContext=this._bufferCanvas.getContext("2d"),this.OnRendererSizeChange=new n.Utilities.EventHandler,this.UpdateBufferSize(),this._disposed=!1}return t._zindexSort=function(n,t){return n.ZIndex-t.ZIndex},t.prototype.Render=function(n){(this._bufferCanvas.width!==this._visibleCanvas.width||this._bufferCanvas.height!==this._visibleCanvas.height)&&this.UpdateBufferSize(),this._visibleContext.clearRect(0,0,this._visibleCanvas.width,this._visibleCanvas.height),this._visibleContext.drawImage(this._bufferCanvas,0,0),this._ClearBuffer(),n.sort(t._zindexSort);for(var i=0;i<n.length;i++)n[i].Draw(this._bufferContext);return this._bufferContext},t.prototype.Dispose=function(){this._disposed||(this._disposed=!0,this._visibleCanvas.parentNode.removeChild(this._visibleCanvas))},t.prototype._ClearBuffer=function(){this._bufferContext.clearRect(0,0,this._bufferCanvas.width,this._bufferCanvas.height)},t.prototype.UpdateBufferSize=function(){this._bufferCanvas.width=this._visibleCanvas.width,this._bufferCanvas.height=this._visibleCanvas.height,this.OnRendererSizeChange.Trigger(new n.Assets.Size2d(this._visibleCanvas.width,this._visibleCanvas.height))},t}();t.Renderer2d=i})(n.Rendering||(n.Rendering={}));var t=n.Rendering})(n.Core||(n.Core={}));var t=n.Core})(EndGate||(EndGate={}))