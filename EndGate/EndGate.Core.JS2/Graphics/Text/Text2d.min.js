var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},EndGate;(function(n){(function(t){var i=function(i){function r(r,u,f,e){typeof e=="undefined"&&(e="black");var o=this;i.call(this,new n.Vector2d(r,u)),this._type="Text2d",this._text=f,this._stroker=new n._.Utilities.NoopTripInvoker(function(n){n.strokeText(o._text,0,0)}),this._drawBounds=new n.Bounds.BoundingRectangle(this.Position,n.Size2d.One()),this.FontSettings=new t.Assets.FontSettings,this.Align("center"),this.Baseline("middle"),this.Color(e)}return __extends(r,i),r.prototype.Align=function(n){return this.State.TextAlign(n)},r.prototype.Baseline=function(n){return this.State.TextBaseline(n)},r.prototype.Color=function(n){return this.State.FillStyle(n)},r.prototype.Shadow=function(n,t,i,r){return[this.ShadowX(n),this.ShadowY(t),this.ShadowColor(i),this.ShadowBlur(r)]},r.prototype.ShadowColor=function(n){return this.State.ShadowColor(n)},r.prototype.ShadowX=function(n){return this.State.ShadowOffsetX(n)},r.prototype.ShadowY=function(n){return this.State.ShadowOffsetY(n)},r.prototype.ShadowBlur=function(n){return this.State.ShadowBlur(n)},r.prototype.Opacity=function(n){return this.State.GlobalAlpha(n)},r.prototype.Text=function(n){return typeof n!="undefined"&&(this._text=n),this._text},r.prototype.Border=function(n,t){return[this.BorderThickness(n),this.BorderColor(t)]},r.prototype.BorderThickness=function(n){return n===0?this._stroker.Reset():this._stroker.Trip(),this.State.LineWidth(n)},r.prototype.BorderColor=function(n){return this._stroker.Trip(),this.State.StrokeStyle(n)},r.prototype.Draw=function(n){var t;i.prototype.StartDraw.call(this,n),this.State.Font(this.FontSettings._BuildFont()),t=n.measureText(this._text),this._drawBounds.Size.Width=t.width,this._drawBounds.Size.Height=parseInt(this.FontSettings.FontSize())*1.5,n.fillText(this._text,0,0),this._stroker.Invoke(n),i.prototype.EndDraw.call(this,n)},r.prototype.GetDrawBounds=function(){return this._drawBounds.Rotation=this.Rotation,this._drawBounds.Position=this.Position,this._drawBounds},r}(t.Abstractions.Graphic2d);t.Text2d=i})(n.Graphics||(n.Graphics={}));var t=n.Graphics})(EndGate||(EndGate={}))