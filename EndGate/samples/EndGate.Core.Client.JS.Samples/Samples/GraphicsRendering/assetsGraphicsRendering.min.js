var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},MovingShape=function(){function n(n,t,i){this.Graphic=n,this._velocity=t,this._directionInterval=i,this._lastChangedDirection=(new Date).getTime(),this._rotationMultiplier=n._type==="Circle"?0:1}return n.RotationSpeed=Math.PI,n.prototype.Update=function(t){var i=t.Elapsed/1e3;t.Now.getTime()-this._lastChangedDirection>=this._directionInterval&&(this._velocity=this._velocity.Multiply(-1),this._rotationMultiplier*=-1,this._lastChangedDirection=t.Now.getTime()),this.Graphic.Rotation+=i*n.RotationSpeed*this._rotationMultiplier,this.Graphic.Position=this.Graphic.Position.Add(this._velocity.Multiply(i))},n}(),GraphicsRenderer=function(n){function t(t){n.call(this,t),this._width=t.width,this._height=t.height,this._shapes=[]}return __extends(t,n),t.MaxVelocity=100,t.MinVelocity=30,t.MinIntervalChange=1e3,t.MaxIntervalChange=4e3,t.prototype.Update=function(n){for(var t=0;t<this._shapes.length;t++)this._shapes[t].Update(n)},t.prototype.Clear=function(){for(var n=0;n<this._shapes.length;n++)this.Scene.Remove(this._shapes[n].Graphic);this._shapes=[]},t.prototype.AddRandomRectangle=function(){var t=this.GetRandomPosition(),i=this.GetRandomSize(),u=this.GetRandomVelocity(),f=this.GetRandomIntervalChange(),n=new EndGate.Core.Graphics.Shapes.Rectangle(t.X,t.Y,i.Width,i.Height),e=this.GetRandomColor(),r;n.Color(e),r=new MovingShape(n,u,f),this._shapes.push(r),this.Scene.Add(n)},t.prototype.AddRandomCircle=function(){var t=this.GetRandomPosition(),r=this.GetRandomRadius(),u=this.GetRandomVelocity(),f=this.GetRandomIntervalChange(),n=new EndGate.Core.Graphics.Shapes.Circle(t.X,t.Y,r),e=this.GetRandomColor(),i;n.Color(e),i=new MovingShape(n,u,f),this._shapes.push(i),this.Scene.Add(n)},t.prototype.GetRandomPosition=function(){return new EndGate.Core.Assets.Vector2d(Math.floor(Math.random()*this._width+1),Math.floor(Math.random()*this._height+1))},t.prototype.GetRandomSize=function(){return new EndGate.Core.Assets.Size2d(Math.floor(Math.random()*this._width*.1+5),Math.floor(Math.random()*this._height*.1+5))},t.prototype.GetRandomRadius=function(){return Math.floor(Math.random()*this._width*.05)+5},t.prototype.GetRandomColor=function(){return"rgb("+(Math.floor(Math.random()*250)+1)+", "+(Math.floor(Math.random()*250)+1)+", "+(Math.floor(Math.random()*250)+1)+")"},t.prototype.GetRandomVelocity=function(){var i=["X","Y"][Math.floor(Math.random()*2)],n=EndGate.Core.Assets.Vector2d.Zero();return n[i]=Math.floor(Math.random()*t.MaxVelocity)+t.MinVelocity,n},t.prototype.GetRandomIntervalChange=function(){return Math.floor(Math.random()*t.MaxIntervalChange)+t.MinIntervalChange},t}(EndGate.Core.Game)