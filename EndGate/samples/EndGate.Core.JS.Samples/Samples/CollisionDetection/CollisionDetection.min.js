var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},CollisionDetection=function(n){function t(t){n.call(this,t),this._size=new eg.Size2d(t.width,t.height),this._shapes=[]}return __extends(t,n),t.MaxVelocity=100,t.MinVelocity=30,t.MinIntervalChange=1e3,t.MaxIntervalChange=4e3,t.prototype.Update=function(n){for(var t=0;t<this._shapes.length;t++)this._shapes[t].Update(n)},t.prototype.Clear=function(){for(var n=0;n<this._shapes.length;n++)this.Scene.Remove(this._shapes[n].Graphic),this.CollisionManager.Unmonitor(this._shapes[n]);this._shapes=[]},t.prototype.AddRandomRectangle=function(){var n=this.GetRandomPosition(),t=this.GetRandomSize();this.AddShape(new MovingShape(new eg.Graphics.Rectangle(n.X,n.Y,t.Width,t.Height,this.GetRandomColor()),this.GetRandomVelocity(),this.GetRandomIntervalChange()))},t.prototype.AddRandomCircle=function(){var n=this.GetRandomPosition();this.AddShape(new MovingShape(new eg.Graphics.Circle(n.X,n.Y,this.GetRandomRadius(),this.GetRandomColor()),this.GetRandomVelocity(),this.GetRandomIntervalChange()))},t.prototype.AddShape=function(n){this.CollisionManager.Monitor(n),this._shapes.push(n),this.Scene.Add(n.Graphic)},t.prototype.GetRandomPosition=function(){return new eg.Vector2d(Math.floor(Math.random()*this._size.Width+1),Math.floor(Math.random()*this._size.Height+1))},t.prototype.GetRandomSize=function(){return new eg.Size2d(Math.floor(Math.random()*this._size.Width*.1+5),Math.floor(Math.random()*this._size.Height*.1+5))},t.prototype.GetRandomRadius=function(){return Math.floor(Math.random()*this._size.Width*.05)+5},t.prototype.GetRandomColor=function(){return"rgb("+(Math.floor(Math.random()*250)+1)+", "+(Math.floor(Math.random()*250)+1)+", "+(Math.floor(Math.random()*250)+1)+")"},t.prototype.GetRandomVelocity=function(){var i=["X","Y"][Math.floor(Math.random()*2)],n=eg.Vector2d.Zero();return n[i]=Math.floor(Math.random()*t.MaxVelocity)+t.MinVelocity,n},t.prototype.GetRandomIntervalChange=function(){return Math.floor(Math.random()*t.MaxIntervalChange)+t.MinIntervalChange},t}(eg.Game)