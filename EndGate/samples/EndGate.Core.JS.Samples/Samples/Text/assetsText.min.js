var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},TextBuilder=function(n){function t(t,i,r,u,f,e){n.call(this,t),this._canvas=t,this._syncSliders=e;var o=this;this.Text=new eg.Graphics.Text2d(r.X,r.Y,"Hello World!"),this.Text.FontSettings.FontSize(20),this.Text.FontSettings.FontFamily(eg.Graphics.Assets.FontFamily.TimesNewRoman),this.Scene.Add(this.Text),this._textAnimator=new TextAnimator(i,r,u,f,this._syncSliders)}return __extends(t,n),t.prototype.Update=function(n){this._textAnimator.ApplyAnimation(this.Text,n)},t}(eg.Game),ColorPicker=function(){function n(n,t,i,r,u){var o,e,f;for(this.red=n,this.green=t,this.blue=i,this.oncolorchange=u,o=this,e=function(){o.UpdateColor()},this.sliders=[this.red,this.green,this.blue],f=0;f<3;f++)this.sliders[f].slider({orientation:"horizontal",range:"min",max:255,value:r[f],animate:!0,slide:e,change:e});this.UpdateColor()}return n.prototype.UpdateColor=function(){var n=this.red.slider("value"),t=this.green.slider("value"),i=this.blue.slider("value");this.oncolorchange("rgb("+n+", "+t+", "+i+")")},n}(),CustomSlider=function(){function n(n,t,i,r,u){this._target=n,this._min=t,this._max=i,this._defaultValue=r,this.onsliderchange=u;var e=this,f=function(){e.SliderChange()};this._target.slider({orientation:"horizontal",range:"min",min:this._min,max:this._max,value:this._defaultValue,animate:!0,slide:f,change:f}),this.SliderChange()}return n.prototype.UpdateSlider=function(n){this._target.slider("value",n)},n.prototype.SliderChange=function(){this.onsliderchange(parseInt(this._target.slider("value")))},n}(),TextAnimator=function(){function n(n,t,i,r,u){this._defaultPosition=t,this._defaultRotation=i,this._defaultOpacity=r,this._syncSliders=u,this.Direction=1,this.CurrentAnimations={Position:!1,Rotation:!1,Size:!1,Opacity:!1};var f=this,e=function(){var n=$(this),t=n.attr("animation");n.hasClass("btn-success")?(f.CurrentAnimations[t]=!1,n.removeClass("btn-success")):(f.CurrentAnimations[t]=!0,n.addClass("btn-success"))};$.each(n,function(){$(this).click(e)}),this._lastChanged=(new Date).getTime()}return n.AnimationSpeed=50,n.RotationSpeed=Math.PI/4,n.ChangeDirectionEvery=3e3,n.prototype.ApplyAnimation=function(t,i){i.Now.getTime()-this._lastChanged>n.ChangeDirectionEvery&&(this.Direction*=-1,this._lastChanged=i.Now.getTime());for(var r in this.CurrentAnimations)this.CurrentAnimations[r]&&(this[r](t,i),this._syncSliders(r))},n.prototype.Position=function(t,i){var u=n.AnimationSpeed*i.ElapsedSecond,r=t.Position.Subtract(this._defaultPosition).Abs().Sign();r.Magnitude()===0&&(r=eg.Vector2d.One()),t.Position=t.Position.Add(r.Multiply(this.Direction).Multiply(u))},n.prototype.Rotation=function(t,i){var r=n.RotationSpeed*i.ElapsedSecond;t.Rotation+=1*this.Direction*r},n.prototype.Size=function(t,i){var r=n.AnimationSpeed/2*i.ElapsedSecond;t.FontSettings.FontSize(parseFloat(t.FontSettings.FontSize())+this.Direction*r)},n.prototype.Opacity=function(n,t){var i=.33*t.ElapsedSecond;n.Opacity(n.Opacity()+i*this.Direction),n.Opacity()>1&&n.Opacity(1)},n}()