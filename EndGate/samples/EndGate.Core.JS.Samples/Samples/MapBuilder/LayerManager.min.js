var LayerManager=function(){function n(n,t,i,r,u,f){this._gameScene=n,this._defaultGrid=t,this._layersSelect=i,this._onLayerChange=f;var e=this;this.Layers=[{Name:"Background",Layer:new eg.Graphics.Grid(t.Position.X,t.Position.Y,t.Rows(),t.Columns(),t.TileSize().Width,t.TileSize().Height)}],this.SelectedLayer=this.Layers[0],i.change(function(){e.SelectedLayer=e.Layers[parseInt(i.val())],f(e.SelectedLayer)}),r.click(function(){e.AddLayer(u.val()),u.val(""),r.blur()}),this._gameScene.Add(this.SelectedLayer.Layer)}return n.prototype.AddLayer=function(n){var t={Name:n,Layer:new eg.Graphics.Grid(this._defaultGrid.Position.X,this._defaultGrid.Position.Y,this._defaultGrid.Rows(),this._defaultGrid.Columns(),this._defaultGrid.TileSize().Width,this._defaultGrid.TileSize().Height)};return this.Layers.push(t),this._layersSelect.append($("<option value='"+(this.Layers.length-1)+"'>"+t.Name+"<\/option>")),this._layersSelect.val((this.Layers.length-1).toString()),this.SelectedLayer=t,this._onLayerChange(this.SelectedLayer),this._gameScene.Add(t.Layer),t},n}()