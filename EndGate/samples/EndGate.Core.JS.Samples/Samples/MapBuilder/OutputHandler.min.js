var OutputHandler=function(){function n(n,t,i,r,u){var o=n.find("#output"),e=n.find("#outputOptions"),s=$("#outputPanel"),f;o.click(function(){var h,n;if(e.val()==="0")t.SaveMap("_output","_"),f=localStorage.getItem("_");else if(e.val()==="1"){for(h=t.BuildResourceMaps(),f='class MyGame extends eg.Game {}<br /><br />var myGame = new MyGame(),<br />   resourceSheet = new eg.Graphics.Assets.ImageSource("'+i.SpriteSheetUrl+'", '+i.ActiveSpriteSheet.Size.Width+", "+i.ActiveSpriteSheet.Size.Height+"),<br />   resources: eg.Graphics.Assets.ImageSource[] = eg.Map.SquareTileMap.ExtractTiles(resourceSheet, "+r+", "+u+"),<br />   layers: eg.Map.SquareTileMap[] = [<br />",n=0;n<h.length;n++)n>0&&(f+=", <br />"),f+="new eg.Map.SquareTileMap(0,0,"+r+", "+u+", resources, "+JSON.stringify(h[n].Layer)+")";f+="<br />]; <br /><br />for (var i = 0; i < layers.length; i++) {<br />   myGame.Map.Scenery.AddLayer(layers[i]);<br />}<br />"}s.html(f),o.blur(),e.blur(),window.scrollTo(0,document.body.scrollHeight)})}return n}()