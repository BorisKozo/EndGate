var SetupManager=function(){function n(n,t,i,r){var u=this,l=n.find("#dimensionRows"),a=n.find("#dimensionColumns"),e=n.find("#tileSizeWidth"),o=n.find("#tileSizeHeight"),f=t.find("#mapBuilderUtilities"),v=n.find("#savedMaps"),y=n.find("#loadMap"),p=n.find("#loadFromText"),s=n.find("#loadText"),h=PersistenceManager.GetSavedMaps(),c;f.width(r.width+i.width+38),n.find("#createMap").click(function(){u._spriteSheetViewer=new SpriteSheetViewer(i,$("#spriteSheetUrl").val(),parseFloat(e.val()),parseFloat(o.val())),u._mapBuilder=new MapBuilder(r,f,u._spriteSheetViewer,parseInt(l.val()),parseInt(a.val()),parseFloat(e.val()),parseFloat(o.val())),n.addClass("hide"),t.removeClass("hide")}),n.find("#resetSetup").click(function(){l.val(""),a.val(""),e.val(""),o.val("")});for(c in h)v.append($("<option value='"+c+"'>"+c+"<\/option>")),y.removeClass("disabled");y.click(function(){var e=v.val(),o;h[e]&&(o=h[e],u.Initialize(o,i,r,f),n.addClass("hide"),t.removeClass("hide"))}),p.click(function(){if(s.val().length!==0){var e=JSON.parse(s.val())._output;s.val(""),u.Initialize(e,i,r,f),n.addClass("hide"),t.removeClass("hide")}})}return n.prototype.Initialize=function(n,t,i,r){var u=this;this._spriteSheetViewer=new SpriteSheetViewer(t,n.SpriteSheetUrl,n.TileSize.Width,n.TileSize.Height,function(){u._mapBuilder=new MapBuilder(i,r,u._spriteSheetViewer,n.Rows,n.Columns,n.TileSize.Width,n.TileSize.Height),u._mapBuilder.LoadLayersFromResourceMaps(n.Layers)})},n}()